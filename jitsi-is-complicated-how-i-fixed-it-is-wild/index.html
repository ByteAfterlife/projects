<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Jitsi is... complicated. How I fixed it is wild. - Byte&#x27;s Projects</title><meta name="description" content="As a followup to my Jitsi setup post. I decided I need something more flexible, JWT authentication. Now, I remember I mentioned using plugins to setup auto lobby starting. But today, I needed a new plugin, (not responsible for external content)&nbsp;token_moderation. But it didn't work,&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://byteafterlife.github.io/projects/jitsi-is-complicated-how-i-fixed-it-is-wild/"><link rel="alternate" type="application/atom+xml" href="https://byteafterlife.github.io/projects/feed.xml" title="Byte&#x27;s Projects - RSS"><link rel="alternate" type="application/json" href="https://byteafterlife.github.io/projects/feed.json" title="Byte&#x27;s Projects - JSON"><meta property="og:title" content="Jitsi is... complicated. How I fixed it is wild."><meta property="og:site_name" content="Byte's Projects"><meta property="og:description" content="As a followup to my Jitsi setup post. I decided I need something more flexible, JWT authentication. Now, I remember I mentioned using plugins to setup auto lobby starting. But today, I needed a new plugin, (not responsible for external content)&nbsp;token_moderation. But it didn't work,&hellip;"><meta property="og:url" content="https://byteafterlife.github.io/projects/jitsi-is-complicated-how-i-fixed-it-is-wild/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@byteafterlife"><meta name="twitter:title" content="Jitsi is... complicated. How I fixed it is wild."><meta name="twitter:description" content="As a followup to my Jitsi setup post. I decided I need something more flexible, JWT authentication. Now, I remember I mentioned using plugins to setup auto lobby starting. But today, I needed a new plugin, (not responsible for external content)&nbsp;token_moderation. But it didn't work,&hellip;"><link rel="stylesheet" href="https://byteafterlife.github.io/projects/assets/css/style.css?v=0a401aea86068ef5818bf4b22f439e57"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://byteafterlife.github.io/projects/jitsi-is-complicated-how-i-fixed-it-is-wild/"},"headline":"Jitsi is... complicated. How I fixed it is wild.","datePublished":"2025-12-20T14:26-06:00","dateModified":"2025-12-20T14:46-06:00","description":"As a followup to my Jitsi setup post. I decided I need something more flexible, JWT authentication. Now, I remember I mentioned using plugins to setup auto lobby starting. But today, I needed a new plugin, (not responsible for external content)&nbsp;token_moderation. But it didn't work,&hellip;","author":{"@type":"Person","name":"Byte","url":"https://byteafterlife.github.io/projects/authors/byte/"},"publisher":{"@type":"Organization","name":"Byte"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><header class="top js-header"><a class="logo" href="https://byteafterlife.github.io/projects/">Byte&#x27;s Projects</a></header><main class="post"><article class="content"><div class="hero hero--noimage"><header class="hero__content"><div class="wrapper"><h1>Jitsi is... complicated. How I fixed it is wild.</h1><div class="feed__meta content__meta"><a href="https://byteafterlife.github.io/projects/authors/byte/" class="feed__author">Byte</a> <time datetime="2025-12-20T14:26" class="feed__date">December 20, 2025</time></div></div></header></div><div class="entry-wrapper content__entry"><p>As a followup to my <a href="https://byteafterlife.github.io/projects/bye-mumble-hello-jitsi/">Jitsi setup post</a>. I decided I need something more flexible, JWT authentication. Now, I remember I mentioned using plugins to setup auto lobby starting. But today, I needed a new plugin, (not responsible for external content)&nbsp;<a href="https://github.com/nvonahsen/jitsi-token-moderation-plugin/blob/master/mod_token_moderation.lua">token_moderation</a>. But it didn't work, my logs said</p><pre class="line-numbers language-html"><code>modulemanager error Unable to load module 'token_moderation': /usr/lib/prosody/modules/share/lua/5.4/mod_token_moderation/mod_token_moderation.lua: No such file or directory</code></pre><p>and I was confused. Because plugins are supposed to be read from</p><pre class="line-numbers language-html"><code>/prosody-plugins-custom
</code></pre><p>But it was reading them from that /usr/lib thing, I was confused. I checked the compose, it was mapping it as</p><pre class="line-numbers language-html"><code>- ${CONFIG}/prosody/prosody-plugins-custom:/prosody-plugins-custom:Z</code></pre><p>just as the OFFICIAL FILE (remember that for later) wrote. So then I checked the container itself inside "/prosody-plugins-custom" and guess what? It wasn't even there. I was so confused, because it was loading the auto lobby start plugin successfully, this one it wasn't, and none were even showing up in the folder.. this makes no sense. But then I checked the folders inside "/" (the root) and I found one called "prosody-plugins-contrib" HUH??? And I opened it.. oh my god. It had all the plugin I used last post.. HARD WIRED INTO THE DEPLOYMENT? So here's what was happening: None of the custom plugins I added were ever added to jitsi's access in the first place, the auto lobby worked though. BUT THATS BECAUSE IT WAS IN A BUILTIN FOLDER THAT INCLUDED EVERY PLUGIN FROM THE REPOSITORY I DOWNLOADED THE AUTO LOBBY ONE FROM. So it was never getting it from "/prosody-plugins-custom" Ok.. that made more sense, because the folder was empty, so at least it wasn't pulling the auto lobby out of thin air.. but why was it empty? Well, I checked the mount path again,</p><pre class="line-numbers language-html"><code>- ${CONFIG}/prosody/prosody-plugins-custom:/prosody-plugins-custom:Z</code></pre><p>And then I thought, ok well what's "CONFIG" AND THEN IT HIT ME.. CONFIG IS "~/.jitsi-meet-cfg" and I then realized.. it was reaading /prosody-plugins-custom from MY HOME DIRECTORY, NOT FROM THE PROJECT FOLDER. So I changed "CONFIG" to "./" (here's the .env update incase you had the same issue):</p><pre class="line-numbers language-html"><code>  CONFIG=./</code></pre><p>And guess what.. it worked</p><p>This may seem simple but oh my, look from my perspective at the start: I put two plugins in the same folder, one loads fine, other is marked as not found, the folder according to Jitsi itself is empty, so how does the first one load fine, it it spawning it out of thin air!?</p><p>I don't know if I should be more concerned about the fact that the official example is that confusing, or that they hardbaked every contrib plugin into the official docker compose file.</p><p>Either way, as a summary, what happened is when I added those two plugins to the custom plugins folder that I THOUGHT would work, it didn't because CONFIG was set to the wrong folder on my host, it never actually was reading the auto lobby one from the custom plugins folder, which was empty according to it, it was instead reading it from a hard wired folder that was in it, which made me think it was reading it correctly, then when I added a plugin NOT from the contrib repository, since it wasn't hard baked into the image, it didn't even see it in the custom plugins, because it never saw anything in the custom plugins because "${CONFIG}" was set to the wrong value this whole time. Once I changed it to "CONFIG=./" the custom plugins folder was no longer empty, and it saw all my custom plugins again, yay. How confusing. I find it wild that I figured all that out. Also of course, no documentation told me that there was this hard baked folder, and nothing explained how to fix it. So I had to figure all this out myself. And somehow suceeded.</p></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on December 20, 2025</p><div class="content__actions"><div class="content__share"><button class="btn--icon content__share-button js-content__share-button"><svg width="20" height="20" aria-hidden="true"><use xlink:href="https://byteafterlife.github.io/projects/assets/svg/svg-map.svg#share"></use></svg> <span>Share It</span></button><div class="content__share-popup js-content__share-popup"><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fbyteafterlife.github.io%2Fprojects%2Fjitsi-is-complicated-how-i-fixed-it-is-wild%2F&amp;via=%40byteafterlife&amp;text=Jitsi%20is...%20complicated.%20How%20I%20fixed%20it%20is%20wild." class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://byteafterlife.github.io/projects/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span></a></div></div></div><div class="content__bio bio"><div><h3 class="h4 bio__name"><a href="https://byteafterlife.github.io/projects/authors/byte/" rel="author">Byte</a></h3></div></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://byteafterlife.github.io/projects/ssh-tunneling-is-cooler-than-i-thought/" class="content__nav-link" rel="prev"><div><span>Previous</span> SSH tunneling is cooler than I thought</div></a></div><div class="content__nav-next"><a href="https://byteafterlife.github.io/projects/my-silly-access-denied-page/" class="content__nav-link" rel="next"><div><span>Next</span> My silly access denied page</div></a></div></div></div></nav></footer></article><div class="content__related related"><div class="wrapper"><h2 class="h4 related__title">You should also read:</h2><article class="feed__item feed__item--centered"><div class="feed__content"><header><div class="feed__meta"><a href="https://byteafterlife.github.io/projects/authors/byte/" class="feed__author">Byte</a> <time datetime="2025-12-22T14:27" class="feed__date">December 22, 2025</time></div><h3 class="feed__title"><a href="https://byteafterlife.github.io/projects/i-did-not-expect-to-learn-this-while-making-a-jitsi-server/">I did not expect to learn this while making a Jitsi server</a></h3></header><p>In my last post of the Jitsi server series, I setup client certificate authentication to log people in securely into my server if they're on mobile data and they cant be authorized by their IP (because its constantly changing). Same day yesterday, I tried making&hellip;</p><a href="https://byteafterlife.github.io/projects/i-did-not-expect-to-learn-this-while-making-a-jitsi-server/" class="readmore feed__readmore">Continue reading...</a></div></article><article class="feed__item feed__item--centered"><div class="feed__content"><header><div class="feed__meta"><a href="https://byteafterlife.github.io/projects/authors/byte/" class="feed__author">Byte</a> <time datetime="2025-12-21T14:23" class="feed__date">December 21, 2025</time></div><h3 class="feed__title"><a href="https://byteafterlife.github.io/projects/my-jitsi-project-is-really-getting-huge-client-certificate-authentication/">My Jitsi Project is really getting huge (client certificate authentication)</a></h3></header><p>So in my last post of the Jitsi series, I explained how I did IP based blocking to control who can connect via a reverse proxy, but then I realized something. My IP can change, especially on mobile data. Which is bad, because then I&hellip;</p><a href="https://byteafterlife.github.io/projects/my-jitsi-project-is-really-getting-huge-client-certificate-authentication/" class="readmore feed__readmore">Continue reading...</a></div></article><article class="feed__item feed__item--centered"><div class="feed__content"><header><div class="feed__meta"><a href="https://byteafterlife.github.io/projects/authors/byte/" class="feed__author">Byte</a> <time datetime="2025-12-06T08:50" class="feed__date">December 6, 2025</time></div><h3 class="feed__title"><a href="https://byteafterlife.github.io/projects/bye-mumble-hello-jitsi/">Bye Mumble, Hello Jitsi</a></h3></header><p>So, as I discussed in my Mumble setup&nbsp;post, I made my own mumble server and port forwarded to make it accessible to the world! However, my family didn't like the limits: No video, no screensharing. Now, I've known about Jitsi Meet for a while. Not&hellip;</p><a href="https://byteafterlife.github.io/projects/bye-mumble-hello-jitsi/" class="readmore feed__readmore">Continue reading...</a></div></article></div></div></main><footer class="footer footer--glued"><div class="wrapper"><div class="footer__copyright"><p>Thanks for reading! &lt;3</p></div><div class="footer__social"><a href="https://x.com/byteafterlife" aria-label="X"><svg><use xlink:href="https://byteafterlife.github.io/projects/assets/svg/svg-map.svg#twitter"/></svg></a></div><button id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://byteafterlife.github.io/projects/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://byteafterlife.github.io/projects/assets/js/scripts.min.js?v=ffcbea6c02c8178d10092962b235a5b0"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>